{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tanma\\\\Desktop\\\\store-rating-app\\\\store-rating-app\\\\frontend\\\\src\\\\components\\\\NormalUser\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport api from '../../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserDashboard = () => {\n  _s();\n  const [stores, setStores] = useState([]);\n  const [ratingSubmitting, setRatingSubmitting] = useState(null);\n  const load = () => api.get('/stores').then(r => setStores(r.data)).catch(() => {});\n  useEffect(() => {\n    load();\n  }, []);\n  const rate = async (storeId, rating) => {\n    setRatingSubmitting(storeId);\n    try {\n      await api.post(`/ratings/${storeId}`, {\n        rating\n      });\n      load();\n    } catch (e) {\n      // handle error if needed\n    } finally {\n      setRatingSubmitting(null);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        body, html, #root {\n          margin: 0;\n          height: 100%;\n          font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',\n            Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n          background-color: #f4f7fc;\n          color: #222;\n        }\n\n        div {\n          max-width: 700px;\n          margin: 48px auto;\n          background: #fff;\n          border-radius: 18px;\n          box-shadow: 0 12px 40px rgba(127, 86, 218, 0.12);\n          padding: 48px 36px;\n          user-select: none;\n          animation: fadeSlideIn 0.8s cubic-bezier(0.4,0,0.2,1);\n        }\n\n        h1 {\n          font-weight: 700;\n          font-size: 2.1rem;\n          color: #222a35;\n          text-align: center;\n          margin-bottom: 36px;\n          letter-spacing: 1px;\n          user-select: none;\n        }\n\n        ul {\n          list-style: none;\n          padding: 0;\n          margin: 0;\n        }\n\n        li {\n          background: #f4f7fc;\n          border-radius: 11px;\n          box-shadow: 0 2px 9px #7f56da10;\n          padding: 18px 24px;\n          font-weight: 500;\n          font-size: 1.2rem;\n          color: #7f56da;\n          margin-bottom: 12px;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          cursor: default;\n          transition: box-shadow 0.2s;\n          user-select: none;\n        }\n        li:hover {\n          box-shadow: 0 10px 28px #7f56da19;\n        }\n\n        li strong {\n          font-weight: 700;\n          font-size: 1.3rem;\n          user-select: text;\n          color: #6842c2;\n        }\n\n        div > ul > li > div {\n          display: flex;\n          gap: 8px;\n        }\n\n        button {\n          background: #7f56da;\n          border: none;\n          color: white;\n          padding: 8px 12px;\n          font-weight: 700;\n          font-size: 1rem;\n          border-radius: 8px;\n          cursor: pointer;\n          transition: background 0.19s, box-shadow 0.19s, transform 0.15s;\n          user-select: none;\n        }\n        button:hover:not(:disabled), button:focus:not(:disabled) {\n          background: #6842c2;\n          transform: translateY(-1.5px) scale(1.05);\n          box-shadow: 0 10px 20px #7f56da44;\n          outline: none;\n        }\n        button:disabled {\n          background: #bfb7e7;\n          cursor: not-allowed;\n          transform: none;\n          box-shadow: none;\n        }\n\n        @keyframes fadeSlideIn {\n          0% { opacity: 0; transform: translateY(18px); }\n          100% { opacity: 1; transform: translateY(0); }\n        }\n\n        @media (max-width: 600px) {\n          div {\n            margin: 24px 16px;\n            padding: 36px 24px;\n          }\n          li {\n            font-size: 1.05rem;\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 12px;\n          }\n          div > ul > li > div {\n            justify-content: flex-start;\n          }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Your Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: stores.map(s => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: s.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this), \" avg \", Number(s.average_rating).toFixed(1), \" (\", s.rating_count, \")\", /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [1, 2, 3, 4, 5].map(n => /*#__PURE__*/_jsxDEV(\"button\", {\n              disabled: ratingSubmitting === s.store_id,\n              onClick: () => rate(s.store_id, n),\n              \"aria-label\": `Rate ${s.name} with ${n} star${n > 1 ? 's' : ''}`,\n              children: n\n            }, n, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this)]\n        }, s.store_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(UserDashboard, \"fYwfQaP7MjB2gT1QWFTQa3Juoxw=\");\n_c = UserDashboard;\nexport default UserDashboard;\nvar _c;\n$RefreshReg$(_c, \"UserDashboard\");","map":{"version":3,"names":["React","useEffect","useState","api","jsxDEV","_jsxDEV","Fragment","_Fragment","UserDashboard","_s","stores","setStores","ratingSubmitting","setRatingSubmitting","load","get","then","r","data","catch","rate","storeId","rating","post","e","children","fileName","_jsxFileName","lineNumber","columnNumber","map","s","name","Number","average_rating","toFixed","rating_count","n","disabled","store_id","onClick","_c","$RefreshReg$"],"sources":["C:/Users/tanma/Desktop/store-rating-app/store-rating-app/frontend/src/components/NormalUser/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport api from '../../services/api';\r\n\r\nconst UserDashboard = () => {\r\n  const [stores, setStores] = useState([]);\r\n  const [ratingSubmitting, setRatingSubmitting] = useState(null);\r\n  const load = () => api.get('/stores').then(r => setStores(r.data)).catch(() => {});\r\n  useEffect(() => {\r\n    load();\r\n  }, []);\r\n\r\n  const rate = async (storeId, rating) => {\r\n    setRatingSubmitting(storeId);\r\n    try {\r\n      await api.post(`/ratings/${storeId}`, { rating });\r\n      load();\r\n    } catch (e) {\r\n      // handle error if needed\r\n    } finally {\r\n      setRatingSubmitting(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <style>{`\r\n        body, html, #root {\r\n          margin: 0;\r\n          height: 100%;\r\n          font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',\r\n            Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\r\n          background-color: #f4f7fc;\r\n          color: #222;\r\n        }\r\n\r\n        div {\r\n          max-width: 700px;\r\n          margin: 48px auto;\r\n          background: #fff;\r\n          border-radius: 18px;\r\n          box-shadow: 0 12px 40px rgba(127, 86, 218, 0.12);\r\n          padding: 48px 36px;\r\n          user-select: none;\r\n          animation: fadeSlideIn 0.8s cubic-bezier(0.4,0,0.2,1);\r\n        }\r\n\r\n        h1 {\r\n          font-weight: 700;\r\n          font-size: 2.1rem;\r\n          color: #222a35;\r\n          text-align: center;\r\n          margin-bottom: 36px;\r\n          letter-spacing: 1px;\r\n          user-select: none;\r\n        }\r\n\r\n        ul {\r\n          list-style: none;\r\n          padding: 0;\r\n          margin: 0;\r\n        }\r\n\r\n        li {\r\n          background: #f4f7fc;\r\n          border-radius: 11px;\r\n          box-shadow: 0 2px 9px #7f56da10;\r\n          padding: 18px 24px;\r\n          font-weight: 500;\r\n          font-size: 1.2rem;\r\n          color: #7f56da;\r\n          margin-bottom: 12px;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          cursor: default;\r\n          transition: box-shadow 0.2s;\r\n          user-select: none;\r\n        }\r\n        li:hover {\r\n          box-shadow: 0 10px 28px #7f56da19;\r\n        }\r\n\r\n        li strong {\r\n          font-weight: 700;\r\n          font-size: 1.3rem;\r\n          user-select: text;\r\n          color: #6842c2;\r\n        }\r\n\r\n        div > ul > li > div {\r\n          display: flex;\r\n          gap: 8px;\r\n        }\r\n\r\n        button {\r\n          background: #7f56da;\r\n          border: none;\r\n          color: white;\r\n          padding: 8px 12px;\r\n          font-weight: 700;\r\n          font-size: 1rem;\r\n          border-radius: 8px;\r\n          cursor: pointer;\r\n          transition: background 0.19s, box-shadow 0.19s, transform 0.15s;\r\n          user-select: none;\r\n        }\r\n        button:hover:not(:disabled), button:focus:not(:disabled) {\r\n          background: #6842c2;\r\n          transform: translateY(-1.5px) scale(1.05);\r\n          box-shadow: 0 10px 20px #7f56da44;\r\n          outline: none;\r\n        }\r\n        button:disabled {\r\n          background: #bfb7e7;\r\n          cursor: not-allowed;\r\n          transform: none;\r\n          box-shadow: none;\r\n        }\r\n\r\n        @keyframes fadeSlideIn {\r\n          0% { opacity: 0; transform: translateY(18px); }\r\n          100% { opacity: 1; transform: translateY(0); }\r\n        }\r\n\r\n        @media (max-width: 600px) {\r\n          div {\r\n            margin: 24px 16px;\r\n            padding: 36px 24px;\r\n          }\r\n          li {\r\n            font-size: 1.05rem;\r\n            flex-direction: column;\r\n            align-items: flex-start;\r\n            gap: 12px;\r\n          }\r\n          div > ul > li > div {\r\n            justify-content: flex-start;\r\n          }\r\n        }\r\n      `}</style>\r\n\r\n      <div>\r\n        <h1>Your Dashboard</h1>\r\n        <ul>\r\n          {stores.map((s) => (\r\n            <li key={s.store_id}>\r\n              <strong>{s.name}</strong> avg {Number(s.average_rating).toFixed(1)} ({s.rating_count})\r\n              <div>\r\n                {[1, 2, 3, 4, 5].map((n) => (\r\n                  <button\r\n                    key={n}\r\n                    disabled={ratingSubmitting === s.store_id}\r\n                    onClick={() => rate(s.store_id, n)}\r\n                    aria-label={`Rate ${s.name} with ${n} star${n > 1 ? 's' : ''}`}\r\n                  >\r\n                    {n}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}